
 var quiztitle = "Quiz AgileMission";


 var quiz = [
        {
            "question" : "O SCRUM tem como características a divisão do processo em pequenos ciclos de desenvolvimento chamados Sprint, o monitoramento do progresso do processo através de reuniões diárias com toda a equipe e, reuniões com os Stakeholders no fim de cada ciclo de desenvolvimento.",
            "choices" : [
                                     "Correto",
                                    "Errado"

                                ],
            "correct" : "Correto",
            "id":"0"
        },

        {
            "question" : "No XP, não há indicação de que é necessário criar documentação no código porém, os documentos tradicionais são reduzidos aos aspectos mais relevantes, visando obter no final do processo, apenas artefatos de grande importância para o projeto.",

            "choices" : [
                                     "Correto",
									"Errado"
                                ],
            "correct" : "Correto",
            "id":"1"
        },
        {
            "question" : "SCRUM não especifica a programação em pares ou desenvolvimento orientado a testes, porém especifica a forma de gerenciamento dos requisitos ou características solicitadas.",
            "choices" : [
                                     "Correto",
                                    "Errado"
                                ],
            "correct" : "Errado",
            "id":"2"
        },
        {
            "question" : "Enquanto o XP é mais receptivo a mudanças durante a iteração, no SCRUM as solicitações do cliente devem aguardar o término da iteração em andamento",
            "choices" : [
                                    "Correto",
                                    "Errado"
                                ],
            "correct" : "Errado",
            "id":"3"
        },
        {
            "question" : "No desenvolvimento de software em Extreme Programming (XP) há uma confiança muito grande na sinergia entre as práticas, já que os pontos fracos de cada uma são superados pelos pontos fortes de outras. Dentre elas, aquela em que o código fonte não tem dono e ninguém precisa solicitar permissão para poder modificá-lo, permitindo, assim, que a equipe conheça todas as partes do sistema, é chamada de",
            "choices" : [
                                    "Whole Team (Time Coeso).",
                                    "Sustainable Pace (Ritmo Sustentável).",
									"Pair Programming (Programação em Pares).",
                                    "Collective Ownership (Posse Coletiva).",
									"Coding Standards (Padrões de Codificação)."
                                ],
            "correct" : "Collective Ownership (Posse Coletiva).",
            "id":"4"
        },
        {
            "question" : "No SCRUM, o produto final, a data final e o custo do projeto são determinados:",
            "choices" : [
                                    "respectivamente, no planejamento, ao longo do projeto, no início do projeto.",
                                    "ao longo do projeto",
									"no planejamento.",
                                    "respectivamente, nas fases intermediárias, no planejamento, no final do projeto.",
									"em função das iterações"
                                ],
            "correct" : "b) ao longo do projeto",
            "id":"5"
        },

        {
            "question" : "Refactoring, programação em pares e Stand-up Meeting são características das práticas do SCRUM",
            "choices" : [
                                    "Certo",
                                    "Errado"

                                ],
            "correct" : "Errado",
            "id":"6"
        },
		 {
            "question" : "Na engenharia de software, um processo iterativo denominado sprint, que segue o ciclo PDCA para entregar, num período de 30 dias aproximadamente, um incremento do software pronto, caracteriza a metodologia ágil",
            "choices" : [
                                    "SCRUM",
                                    "DSDM",
									"Crystal.",
                                    "FDD.",
									"XP."
                                ],
            "correct" : "SCRUM",
            "id":"7"
        },
		 {
            "question" : "Na fase de desenvolvimento do Scrum, o software é desenvolvido em processos iterativos denominados Product Backlog.",
            "choices" : [
                                    "certo",
                                    "errado"
                                ],
            "correct" : "certo",
            "id":"8"
        },
		 {
            "question" : "No âmbito do desenvolvimento ágil de sistemas de informação, é INCORRETO afirmar que, no SCRUM,",
            "choices" : [
                                    "as atividades são definidas com uma duração fixa.",
                                    "o foco é nas tarefas e não nos objetivos e resultados",
									"o desenvolvimento é iterativo e incremental",
                                    "cada iteração foca nas necessidades mais prioritárias",
									"cada iteração é finalizada com funcionalidades completas."
                                ],
            "correct" : "o foco é nas tarefas e não nos objetivos e resultados",
            "id":"9"
        },
		 {
            "question" : "No contexto das regras do SCRUM, é correto afirmar: Durante a realização do Sprint, o Backlog pode ser modificado por qualquer um dos elementos da equipe, desde que acordado nas reuniões semanais.",
            "choices" : [
                                    "certo",
                                    "errado"
                                ],
            "correct" : "errado",
            "id":"10"
        },
		 {
            "question" : "O conceito de sprint aplica-se ao modelo ágil do processo de engenharia de software denominado.",
            "choices" : [
                                    "XP.",
                                    "DAS.",
									"DSDM.",
                                    "Scrum",
									"Crystal."
                                ],
            "correct" : "Scrum",
            "id":"11"
        },
		 {
            "question" : "Assinale a alternativa que não apresenta características dos métodos ágeis de desenvolvimento de software:",
            "choices" : [
                                    "entregas parciais do sistema em períodos curtos, que duram de semanas a meses, com preferência para intervalos de tempo menores.",
                                    "atribuição dos requisitos de maior complexidade funcional e não funcional nas primeiras interações com os clientes, de forma a priorizar os aspectos críticos do sistema.",
									"quantidade de código executável considerada a medida mais importante do progresso do desenvolvimento de um software.",
                                    "mudanças nos requisitos, mesmo quando ocorrem próximas ao final do desenvolvimento.",
									"processos de desenvolvimento e recursos tecnológicos disponíveis considerados mais importantes do que as interações entre os membros das equipes"
                                ],
            "correct" : "processos de desenvolvimento e recursos tecnológicos disponíveis considerados mais importantes do que as interações entre os membros das equipes",
            "id":"12"
        },
		 {
            "question" : "No tocante às características dos métodos de desenvolvimento ágil atualmente utilizados, contém características pertinentes a esses métodos:",
            "choices" : [
                                    "controlado e rápido",
                                    "burocrático e rápido;",
									"iterações longas e leve;",
                                    "controlado e burocrático",
									"sem necessidade de prototipação e leve."
                                ],
            "correct" : "controlado e rápido",
            "id":"13"
        },
		 {
            "question" : "Um técnico de TI está trabalhando em um projeto de desenvolvimento de software que utiliza metodologias ágeis e está acompanhando as histórias de usuários, que descrevem as funcionalidades que o software deve ter e",
            "choices" : [
                                    "podem ser utilizadas para definir os testes unitários, mas não testes de aceitação.",
                                    "devem ser implementadas, cada uma, em até 8 semanas.",
									"precisam refletir os aspectos técnicos do software, não apenas a visão dos envolvidos.",
                                    "devem ser escritas segundo o ponto de vista do analista de sistemas.",
									"servem ao mesmo propósito de casos de uso, mas não são a mesma coisa."
                                ],
            "correct" : "servem ao mesmo propósito de casos de uso, mas não são a mesma coisa.",
            "id":"14"
        },
		 {
            "question" : "Um técnico de TI está trabalhando em um projeto de desenvolvimento de software que utiliza o modelo Scrum, em que as funcionalidades a serem implementadas, na forma de histórias de usuários, são mantidas em uma lista denominada",
            "choices" : [
                                    "product backlog.",
                                    "sprint.",
									"chaos list.",
                                    "sprint burndown",
									"metaphor list."
                                ],
            "correct" : "product backlog.",
            "id":"15"
        },
		 {
            "question" : "O Scrum master deve assumir a gerência de um projeto ágil com base no SCRUM, de modo a definir as prioridades para que a equipe entregue, primeiramente, os produtos de software que agreguem maior valor ao negócio do cliente.",
            "choices" : [
                                    "Certo",
                                    "Errado"
                                ],
            "correct" : "Certo",
            "id":"16"
        },
		 {
            "question" : "Uma vez que o SCRUM não estabelece a programação em pares nem o desenvolvimento teste-primeiro (test-first), o XP pode ser usado em conjunto com o SCRUM em um projeto com a abordagem ágil.",
            "choices" : [
                                    "Certo",
                                    "Errado"
                                ],
            "correct" : "Certo",
            "id":"17"
        },
		 {
            "question" : "No XP (Extreme Programming), todos os desenvolvedores da equipe devem possuir autorização para modificar, consertar ou refatorar partes do sistema.",
            "choices" : [
                                    "Certo",
                                    "Errado"
                                ],
            "correct" : "Certo",
            "id":"18"
        },
		 {
            "question" : "No SCRUM, cada ponto de história (PH) implica uma hora de trabalho de uma pessoa. ",
            "choices" : [
                                    "Certo",
                                    "Errado"

                                ],
            "correct" : "Errado",
            "id":"19"
        },

    ];



 var currentquestion = 0,
     score = 0,
     submt = true,
     picked
     aux = 0;

 var arrayPerguntasSelecionadas = [];

 jQuery(document).ready(function ($) {


     function htmlEncode(value) {
         return $(document.createElement('div')).text(value).html();
     }


     function addChoices(choices) {
         if (typeof choices !== "undefined" && $.type(choices) == "array") {
             $('#choice-block').empty();
             for (var i = 0; i < choices.length; i++) {
                 $(document.createElement('li')).addClass('choice choice-box').attr('data-index', i).text(choices[i]).appendTo('#choice-block');
             }
         }
     }

     function nextQuestion() {
         submt = true;
         $('#explanation').empty();
         $('#question').text(quiz[currentquestion]['question']);
         $('#pager').text('Questão ' + Number(aux+1) + ' of 5');
         if (quiz[currentquestion].hasOwnProperty('image') && quiz[currentquestion]['image'] != "") {
             if ($('#question-image').length == 0) {
                 $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question'])).insertAfter('#question');
             } else {
                 $('#question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question']));
             }
         } else {
             $('#question-image').remove();
         }
         addChoices(quiz[currentquestion]['choices']);
         setupButtons();


     }


     function processQuestion(choice) {

         if (quiz[currentquestion]['choices'][choice] == quiz[currentquestion]['correct']) {
             $('.choice').eq(choice).css({
                 'background-color': '#50D943'
             });
             score++;
         } else {
             $('.choice').eq(choice).css({
                 'background-color': '#D92623'
             });
         }
         aux++;

         currentquestion = Math.floor((Math.random() * 19));

         while(arrayPerguntasSelecionadas.indexOf(quiz[currentquestion].id) !== -1){
            //alert("tem");
            currentquestion = Math.floor((Math.random() * 19));
         }
        // alert("n tem");
        // console.log(currentquestion);
        // console.log(quiz[currentquestion].id);
        // console.log(quiz[currentquestion]);
         arrayPerguntasSelecionadas.push(quiz[currentquestion].id);
        /*
        if(arrayPerguntasSelecionadas.indexOf(quiz[currentquestion].id) !== -1){
            alert("tem");
            currentquestion = Math.floor((Math.random() * 6));
        }*/



        // console.log(arrayPerguntasSelecionadas);

         $('#submitbutton').html('Próxima Pergunta &raquo;').on('click', function () {
             if (aux >= 5) {
                 endQuiz();
             } else {
                 $(this).text('Verificar Resposta').css({
                     'color': '#222'
                 }).off('click');
                 nextQuestion();
             }
         })
     }


     function setupButtons() {
         $('.choice').on('mouseover', function () {
             $(this).css({
                 'background-color': 'rgba(255,255,255,100%)'
             });
         });
         $('.choice').on('mouseout', function () {
             $(this).css({
                 'background-color': 'rgba(255,255,255,100%)'
             });
         })
         $('.choice').on('click', function () {
             picked = $(this).attr('data-index');
             $('.choice').removeAttr('style').off('mouseout mouseover');
             $(this).css({
                 'border-color': '#222',
                 'font-weight': 700,
                 'background-color': '#c1c1c1'
             });
             if (submt) {
                 submt = false;
                 $('#submitbutton').css({
                     'color': '#000'
                 }).on('click', function () {
                     $('.choice').off('click');
                     $(this).off('click');
                     processQuestion(picked);
                 });
             }
         })
     }


     function endQuiz() {
         $('#explanation').empty();
         $('#question').empty();
         $('#choice-block').empty();
         $('#submitbutton').remove();
         $('#question').text("Você acertou " + score + " de 5.");
         $(document.createElement('h2')).css({
             'text-align': 'center',
             'font-size': '4em'
         }).text(Math.round(score / 5 * 100) + '%').insertAfter('#question');
         var percentagemAcerto = Math.round(score / 5 * 100);
         if(percentagemAcerto >=60){
         $('<a href="menuEstagioAnalista.html"><img src="img/play3.png"></a>').attr({id: 'submitbutton'}).css({
                 'position':'absolute',
                 'left':'610px',
                 'top':'400px',
                }).insertAfter('#question');
         }else{
            $('<a href="menuEstagioProgramador.html"><img src="img/play3.png"></a>').attr({id: 'submitbutton'}).css({
                 'position':'absolute',
                 'left':'610px',
                 'top':'400px',
                }).insertAfter('#question');
         }


     }




     function init() {
        currentquestion = Math.floor((Math.random() * 19));
        arrayPerguntasSelecionadas.push(quiz[currentquestion].id);
       // console.log(currentquestion);
         //add title
         if (typeof quiztitle !== "undefined" && $.type(quiztitle) === "string") {
             $(document.createElement('h1')).text(quiztitle).appendTo('#frame');
         } else {
             $(document.createElement('h1')).text("Quiz").appendTo('#frame');
         }

         //add pager and questions
         if (typeof quiz !== "undefined" && $.type(quiz) === "array") {
             //add pager
             $(document.createElement('p')).addClass('pager').attr('id', 'pager').text('Questão 1 of 5').appendTo('#frame');
             //add first question
             $(document.createElement('h2')).addClass('question').attr('id', 'question').text(quiz[currentquestion]['question']).appendTo('#frame');
             //add image if present
            /* if (quiz[0].hasOwnProperty('image') && quiz[0]['image'] != "") {
                 $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[0]['image']).attr('alt', htmlEncode(quiz[0]['question'])).appendTo('#frame');
             }*/
             $(document.createElement('p')).addClass('explanation').attr('id', 'explanation').html('&nbsp;').appendTo('#frame');

             //questions holder
             $(document.createElement('ul')).attr('id', 'choice-block').appendTo('#frame');

             //add choices
             addChoices(quiz[currentquestion]['choices']);

             //add submit button
             $(document.createElement('div')).addClass('choice-box').attr('id', 'submitbutton').text('Verificar Resposta').css({
                 'font-weight': 700,
                 'color': '#222',
                 'padding': '20px 0',
                 'width':'200px'
             }).appendTo('#frame');

             setupButtons();

         }
     }

     init();
 });
