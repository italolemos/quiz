 var quiztitle = "Quiz AgileMission";


 var quiz = [
        {
            "question" : "A principal prioridade dos processos e práticas ágeis de desenvolvimento de software é satisfazer o cliente com entregas rápidas e contínuas, ainda que haja mudanças de requisitos nas etapas finais do projeto.",
            "choices" : [
                                    "certo",
                                    "errado"

                                ],
            "correct" : "certo",
            "id":"0"
        },

        {
            "question" : "Os modelos ágeis de desenvolvimento NÃO",

            "choices" : [
                                    "reconhecem que modificações representam um risco e rejeitam aquelas em estágios avançados do desenvolvimento, próximos da entrega da versão final.",
                                    "ressaltam a importância de equipes auto-organizadas, que têm controle sobre o trabalho que executam, encorajando estruturas e ações que tornam a comunicação mais fácil.",
									"enfatizam a entrega rápida de software que satisfaça o cliente e o adotam como parte da equipe para eliminar a distância entre “nós e eles”.",
                                    "satisfazem os princípios do Manifesto para o Desenvolvimento Ágil de Software, inclusive a simplicidade.",
									"acreditam que a entrega de software funcionando com frequência, a cada 2 semanas até 2 meses, é a principal medida de progresso do desenvolvimento."
                                ],
            "correct" : "reconhecem que modificações representam um risco e rejeitam aquelas em estágios avançados do desenvolvimento, próximos da entrega da versão final.",
            "id":"1"
        },
        {
            "question" : "Scrum e Kanban são metodologias de gerenciamento de projetos de software populares entre praticantes do desenvolvimento ágil. Um aspecto de divergência entre as duas metodologias é:",
            "choices" : [
                                    "processo incremental;",
                                    "processo iterativo;",
									"uso de quadro de tarefas;",
                                    "epresentação do estágio de desenvolvimento de uma tarefa;",
									"valorização de feedback."
                                ],
            "correct" : "processo iterativo;",
            "id":"2"
        },
        {
            "question" : "O Scrum é um framework ágil para suportar o desenvolvimento e manutenção de produtos complexos. Nesta abordagem,",
            "choices" : [
                                    "a Equipe de Desenvolvimento é composta pelo Product Owner, o Time Scrum e o Scrum Master. A Equipe é auto- organizável e escolhe qual a melhor forma para completar seu trabalho.",
                                    "o Scrum Master é o responsável por maximizar o valor do produto e do trabalho do Time Scrum. É a única pessoa responsável por gerenciar o Backlog do Produto.",
									"o tamanho ideal do Time Scrum, responsável pela codificação dos testes, é de 3 componentes. Se houver mais de 5 integrantes é exigida muita coordenação e não vai funcionar.",
                                    "o trabalho a ser realizado na Sprint é planejado na reunião de planejamento da Sprint, que é um time-boxde 8 horas para uma Sprint de 1 mês de duração. Para Sprints menores, este evento deve ser proporcionalmente menor.",
									"a Revisão da Sprint é uma oportunidade para o Time Scrum inspecionar a si próprio e criar um plano para melhorias a serem aplicadas na próxima Sprint. Esta é uma reunião time-boxed de 5 horas para uma Sprint de 2 meses."
                                ],
            "correct" : "o trabalho a ser realizado na Sprint é planejado na reunião de planejamento da Sprint, que é um time-boxde 8 horas para uma Sprint de 1 mês de duração. Para Sprints menores, este evento deve ser proporcionalmente menor.",
            "id":"3"
        },
        {
            "question" : "O SCRUM e o XP são processos de desenvolvimento que possuem os seguintes princípios em comum, EXCETO:",
            "choices" : [
                                    "Indivíduos e interações são mais importantes que processos e ferramentas.",
                                    "Seguir o processo de desenvolvimento é mais importante do que se adaptar a mudanças.",
									"Software funcionando é mais importante do que documentação completa e detalhada.",
                                    "Colaboração com o cliente é mais importante do que negociação de contratos.",
									"Adaptação a mudanças é mais importante do que seguir o plano inicial."
                                ],
            "correct" : "Seguir o processo de desenvolvimento é mais importante do que se adaptar a mudanças.",
            "id":"4"
        },
        {
            "question" : "Uma característica corretamente associada a uma das metodologias ágeis está expressa em:",
            "choices" : [
                                    "No Scrum, uma Sprint pode ser cancelada somente após o término do seu time-box. Apenas o Scrum Master tem autoridade para cancelar a Sprint, embora ele possa fazer isso sob influência das partes interessadas e do Time Scrum.",
                                    "No Scrum, além da Sprint, que é um container para outros eventos, cada evento é uma oportunidade de inspecionar e adaptar algo relativo ao projeto. Cada Sprint deve desenvolver um projeto com horizonte não superior a uma semana.",
									"Com o FDD pretende-se que as alterações sejam realizadas e documentadas nos modelos e não diretamente no código, buscando independência de plataforma e facilitando as tarefas decorrentes de manutenção. ",
                                    "São processos do MDD: desenvolvimento de modelo abrangente, construção de lista de funcionalidades, planejamento por funcionalidade, detalhe por funcionalidade, construção por funcionalidade",
									"Na XP metáfora refere-se à descrição de um software sem a utilização de termos técnicos com o objetivo de guiar o desenvolvimento com a maior transparência possível para o cliente."
                                ],
            "correct" : "Na XP metáfora refere-se à descrição de um software sem a utilização de termos técnicos com o objetivo de guiar o desenvolvimento com a maior transparência possível para o cliente.",
            "id":"5"
        },

        {
            "question" : "Acerca do SCRUM, assinale a opção correta.",
            "choices" : [
                                    "Entre os objetivos da retrospectiva da sprint, inclui-se avaliar o desempenho de cada integrante da equipe de desenvolvimento. A retrospectiva da Sprint deve ocorrer antes da revisão da Sprint, antes da reunião de planejamento da próxima sprint e depois do término da sprint.",
                                    "Uma vez que as sprints no SCRUM são fixadas em uma timebox de um mês, as reuniões de planejamento das sprints seguem uma time-box de quatro horas.",
									"A reunião diária do SCRUM é um evento time-boxed de quinze minutos realizado para determinar o trabalho que deverá ser feito antes da próxima reunião diária com a participação do Scrum Master e do Product Owner.",
                                    "Como o cancelamento de uma sprint é um evento indesejado no SCRUM, esse evento só ocorre se o Scrum Master constatar que os objetivos pretendidos para tal Sprint são inalcançáveis.",
									"O Product Owner utiliza práticas de estimativa como o burndown e o burnup para acompanhar a quantidade de trabalho que a organização ainda deve realizar para alcançar os seus objetivos. Assim, se o propósito for garantir o alcance de objetivos, o trabalho poderá ser resumido em qualquer ponto do tempo."
                                ],
            "correct" : "O Product Owner utiliza práticas de estimativa como o burndown e o burnup para acompanhar a quantidade de trabalho que a organização ainda deve realizar para alcançar os seus objetivos. Assim, se o propósito for garantir o alcance de objetivos, o trabalho poderá ser resumido em qualquer ponto do tempo.",
            "id":"6"
        },
		 {
            "question" : "Extreme Programming (XP) é um exemplo de método ágil que foi definido por Kent Beck. O XP inclui uma abordagem de teste que",
            "choices" : [
                                    "valoriza o desenvolvimento test-last.",
                                    "depende da técnica de teste baseada em defeitos.",
									"desenvolve teste incremental baseado em cenários.",
                                    "utiliza processo de teste dirigido a planos."
                                ],
            "correct" : "desenvolve teste incremental baseado em cenários.",
            "id":"7"
        },
		 {
            "question" : "O SCRUM foi idealizado, inicialmente, com foco acentuado na entrega de projetos de desenvolvimento de software, voltado para ambientes complexos. Consiste em um método iterativo e incremental para o gerenciamento de projetos complexos, cujo objetivo é a garantia da agilidade nas entregas e a maximização da aderência aos requisitos dos clientes, incluindo a cooperação entre os integrantes da equipe e, também, a produtividade de cada participante. Em um projeto SCRUM, todas as responsabilidades estão divididas entre três papéis. Assinale‐os.",
            "choices" : [
                                    "Time SCRUM; Sprint; Visão.",
                                    "Visão; Backlog do produto; Sprint.",
									"Sprint; Time SCRUM; Backlog da Sprint.",
                                    "Product Owner; SCRUM Master; Time SCRUM.",
									"Backlog da Sprint; Product Owner; SCRUM Master."
                                ],
            "correct" : "Product Owner; SCRUM Master; Time SCRUM.",
            "id":"8"
        },
		 {
            "question" : "Durante uma reunião de Sprint Planning, a carga de trabalho necessária para cumprir os itens desejados pelo Product Owner parece maior do que a capacidade do Time de Desenvolvimento. Que ação faz mais sentido?",
            "choices" : [
                                    "Time de Desenvolvimento e Product Owner colaboram e possivelmente removem ou modificam itens.",
                                    "O Time de Desenvolvimento inicia o Sprint e pega emprestados desenvolvedores de outros times",
									"O Product Owner exige que o Time de Desenvolvimento trabalhe horas-extras somente por esse Sprint, desde que isso não aconteça novamente.",
                                    "Cancela-se o Sprint",
									"Aumenta-se o tamanho do Sprint"
                                ],
            "correct" : "Time de Desenvolvimento e Product Owner colaboram e possivelmente removem ou modificam itens.",
            "id":"9"
        },
		 {
            "question" : "Idealmente, qual o papel da equipe de qualidade em um projeto Ágil?",
            "choices" : [
                                     "Não existe equipe de qualidade em projetos Ágeis, a qualidade faz parte do trabalho do Time de Desenvolvimento.",
                                    "Garantir a qualidade do produto gerado pelo Time de Desenvolvimento",
									"Testar o produto Desenvolvido pelo Time de Desenvolvimento.",
                                    "Apontar os erros cometidos pelo Time de Desenvolvimento.",
									"Testar o produto Desenvolvido pelo Time de Desenvolvimento, apontar os erros cometidos pelo Time de Desenvolvimento e garantir a qualidade do produto gerado pelo Time de Desenvolvimento."
                                ],
            "correct" : "Não existe equipe de qualidade em projetos Ágeis, a qualidade faz parte do trabalho do Time de Desenvolvimento.",
            "id":"10"
        },
		 {
            "question" : "Um novo desenvolvedor entrou em um Time de Desenvolvimento que já existia. Ele está tendo conflitos todo o tempo com os membros e está tornando o ambiente hostil. Se necessário, quem deve identificar o problema e iniciar o processo para resolvê-lo?",
            "choices" : [
                                     "O Product Owner é responsável, pois ele controla o retorno sobre o investimento do trabalho.",
                                    "O RH da empresa é o responsável, pois deve cuidar das contratações e demissões",
									"O ScrumMaster é responsável, pois ele deve remover impedimentos",
                                    "O Time de Desenvolvimento é responsável, pois ele é um time auto-organizado, facilitado pelo ScrumMaster."

                                ],
            "correct" : "O Time de Desenvolvimento é responsável, pois ele é um time auto-organizado, facilitado pelo ScrumMaster.",
            "id":"11"
        },
		 {
            "question" : "O Time de Desenvolvimento escolheu, juntamente com o Product Owner, itens do Product Backlog para desenvolver no Sprint e se comprometeu a atingir uma meta negociada com o Product Owner. Quem deve determinar como o Time de Desenvolvimento deve realizar seu trabalho?",
            "choices" : [
                                     "O Product Owner.",
                                    "O ScrumMaster.",
									"O Time de Desenvolvimento",
                                    "Os gerentes funcionais a quem o Time de Desenvolvimento presta contas."

                                ],
            "correct" : "O Time de Desenvolvimento",
            "id":"12"
        },
		 {
            "question" : "Em um projeto Ágil, quem deve estimar o trabalho a ser realizado?",
            "choices" : [
                                     "O Product Owner.",
                                    "O Time de Desenvolvimento, o ScrumMaster e o Product Owner.",
									"O Time de Desenvolvimento e o ScrumMaster.",
                                    "O Gerente de Projetos.",
									"O Time de Desenvolvimento."
                                ],
            "correct" : "O Time de Desenvolvimento.",
            "id":"13"
        },
		 {
            "question" : "Pelo que o ScrumMaster é responsável?",
            "choices" : [
                                    "Por definir métricas e gerenciar o desempenho do Time de Desenvolvimento.",
                                    "Por ensinar Scrum e buscar que seja adotado e utilizado corretamente.",
									"Por definir as tarefas que o Time de Desenvolvimento deverá fazer na Sprint.",
                                    "Pelas reuniões do Time de Desenvolvimento e pelos objetivos que o Time de Desenvolvimento traça para si."

                                ],
            "correct" : "Por ensinar Scrum e buscar que seja adotado e utilizado corretamente.",
            "id":"14"
        },
		 {
            "question" : "Qual é a forma primária pela qual o ScrumMaster colabora para que um Time de Desenvolvimento seja efetivo?",
            "choices" : [
                                    "Mantendo funcionalidades de maior valor no alto do Product Backlog",
                                    "Impedindo o contato entre cliente e Time de Desenvolvimento.",
									"Assegurando que as reuniões iniciem e terminem no horário adequado.",
                                    "Agindo como um facilitador e removendo impedimentos."

                                ],
            "correct" : "Agindo como um facilitador e removendo impedimentos.",
            "id":"15"
        },
		 {
            "question" : "Deve-se colocar em produção cada incremento produzido no Sprint...",
            "choices" : [
                                    "Sempre que o ScrumMaster decidir que faz sentido.",
                                    "Sempre, sem exceção",
									"Sempre que a equipe garantir que o incremento é entregável",
                                    "Sempre que o Product Owner decidir que faz sentido",
									"Sempre que o incremento estiver livre de erros."
                                ],
            "correct" : "Sempre que o incremento estiver livre de erros.",
            "id":"16"
        },
		 {
            "question" : "O princípio Ágil “Simplicidade -a arte de maximizar a quantidade de trabalho não realizado - é essencial” pode ser melhor traduzido em quais termos?",
            "choices" : [
                                    "Evite o desperdício.",
                                    "Maximize o seu trabalho.",
									"Trabalhe o mínimo possível.",
                                    "Qualidade é o que importa."

                                ],
            "correct" : "Evite o desperdício.",
            "id":"17"
        },
		 {
            "question" : "Em quais atividades o Product Owner comumente se envolve durante o tempo de desenvolvimento em um Sprint?",
            "choices" : [
                                    "Trabalhar junto aos clientes, acompanhar a reunião diária e monitorar as tarefas do Time de Desenvolvimento.",
                                    "Prover feedback sobre o trabalho do Time de Desenvolvimento quando solicitado, responder a perguntas do Time de Desenvolvimento sobre itens no Sprint atual e priorizar as tarefas do Time de Desenvolvimento.",
									"O Product Owner não se envolve em atividades durante o Sprint.",
                                    "Responder a perguntas do Time de Desenvolvimento sobre itens no Sprint atual, trabalhar junto aos stakeholders e acompanhar a reunião diária.",
									"Prover feedback sobre o trabalho do Time de Desenvolvimento quando solicitado, responder a perguntas do Time de Desenvolvimento sobre itens no Sprint atual e preparar itens para o próximo Sprint junto ao Time de Desenvolvimento."
                                ],
            "correct" : "Prover feedback sobre o trabalho do Time de Desenvolvimento quando solicitado, responder a perguntas do Time de Desenvolvimento sobre itens no Sprint atual e preparar itens para o próximo Sprint junto ao Time de Desenvolvimento.",
            "id":"18"
        },
		 {
            "question" : "O que melhor descreve a Sprint Review?",
            "choices" : [
                                    "É uma reunião para que o Time de Desenvolvimento faça uma revisão dos seus processos durante o Sprint.",
                                    "É uma reunião para que o Product Owner faça uma revisão das atividades do Time de Desenvolvimento durante o Sprint.",
									"É uma reunião para dar aos clientes e demais partes interessadas uma oportunidade de inspecionar o que foi feito durante o Sprint e dar feedback.",
                                    "É uma reunião utilizada para construir o espírito de equipe"

                                ],
            "correct" : "É uma reunião utilizada para construir o espírito de equipe",
            "id":"19"
        },

    ];



 var currentquestion = 0,
     score = 0,
     submt = true,
     picked
     aux = 0;

 var arrayPerguntasSelecionadas = [];

 jQuery(document).ready(function ($) {


     function htmlEncode(value) {
         return $(document.createElement('div')).text(value).html();
     }


     function addChoices(choices) {
         if (typeof choices !== "undefined" && $.type(choices) == "array") {
             $('#choice-block').empty();
             for (var i = 0; i < choices.length; i++) {
                 $(document.createElement('li')).addClass('choice choice-box').attr('data-index', i).text(choices[i]).appendTo('#choice-block');
             }
         }
     }

     function nextQuestion() {
         submt = true;
         $('#explanation').empty();
         $('#question').text(quiz[currentquestion]['question']);
         $('#pager').text('Questão ' + Number(aux+1) + ' of 5');
         if (quiz[currentquestion].hasOwnProperty('image') && quiz[currentquestion]['image'] != "") {
             if ($('#question-image').length == 0) {
                 $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question'])).insertAfter('#question');
             } else {
                 $('#question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question']));
             }
         } else {
             $('#question-image').remove();
         }
         addChoices(quiz[currentquestion]['choices']);
         setupButtons();


     }


     function processQuestion(choice) {

         if (quiz[currentquestion]['choices'][choice] == quiz[currentquestion]['correct']) {
             $('.choice').eq(choice).css({
                 'background-color': '#50D943'
             });
             score++;
         } else {
             $('.choice').eq(choice).css({
                 'background-color': '#D92623'
             });
         }
         aux++;

         currentquestion = Math.floor((Math.random() * 19));

         while(arrayPerguntasSelecionadas.indexOf(quiz[currentquestion].id) !== -1){

            currentquestion = Math.floor((Math.random() * 19));
         }
         arrayPerguntasSelecionadas.push(quiz[currentquestion].id);

         $('#submitbutton').html('Próxima Pergunta &raquo;').on('click', function () {
             if (aux >= 5) {
                 endQuiz();
             } else {
                 $(this).text('Verificar Resposta').css({
                     'color': '#222'
                 }).off('click');
                 nextQuestion();
             }
         })
     }


     function setupButtons() {
         $('.choice').on('mouseover', function () {
             $(this).css({
                 'background-color': 'rgba(255,255,255,100%)'
             });
         });
         $('.choice').on('mouseout', function () {
             $(this).css({
                 'background-color': 'rgba(255,255,255,100%)'
             });
         })
         $('.choice').on('click', function () {
             picked = $(this).attr('data-index');
             $('.choice').removeAttr('style').off('mouseout mouseover');
             $(this).css({
                 'border-color': '#222',
                 'font-weight': 700,
                 'background-color': '#c1c1c1'
             });
             if (submt) {
                 submt = false;
                 $('#submitbutton').css({
                     'color': '#000'
                 }).on('click', function () {
                     $('.choice').off('click');
                     $(this).off('click');
                     processQuestion(picked);
                 });
             }
         })
     }


     function endQuiz() {
         $('#explanation').empty();
         $('#question').empty();
         $('#choice-block').empty();
         $('#submitbutton').remove();
         $('#question').text("Você acertou " + score + " de 5.");
         $(document.createElement('h2')).css({
             'text-align': 'center',
             'font-size': '4em'
         }).text(Math.round(score / 5 * 100) + '%').insertAfter('#question');
         var percentagemAcerto = Math.round(score / 5 * 100);
         if(percentagemAcerto >=60){
         $('<a href="menuEstagioLider.html"><img src="img/play3.png"></a>').attr({id: 'submitbutton'}).css({
                 'position':'absolute',
                 'left':'610px',
                 'top':'400px',
                }).insertAfter('#question');
         }else{
            $('<a href="menuEstagioAnalista.html"><img src="img/play3.png"></a>').attr({id: 'submitbutton'}).css({
                 'position':'absolute',
                 'left':'610px',
                 'top':'400px',
                }).insertAfter('#question');
         }


     }




     function init() {
        currentquestion = Math.floor((Math.random() * 19));
        arrayPerguntasSelecionadas.push(quiz[currentquestion].id);
       // console.log(currentquestion);
         //add title
         if (typeof quiztitle !== "undefined" && $.type(quiztitle) === "string") {
             $(document.createElement('h1')).text(quiztitle).appendTo('#frame');
         } else {
             $(document.createElement('h1')).text("Quiz").appendTo('#frame');
         }

         //add pager and questions
         if (typeof quiz !== "undefined" && $.type(quiz) === "array") {
             //add pager
             $(document.createElement('p')).addClass('pager').attr('id', 'pager').text('Questão 1 of 5').appendTo('#frame');
             //add first question
             $(document.createElement('h2')).addClass('question').attr('id', 'question').text(quiz[currentquestion]['question']).appendTo('#frame');
             //add image if present
            /* if (quiz[0].hasOwnProperty('image') && quiz[0]['image'] != "") {
                 $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[0]['image']).attr('alt', htmlEncode(quiz[0]['question'])).appendTo('#frame');
             }*/
             $(document.createElement('p')).addClass('explanation').attr('id', 'explanation').html('&nbsp;').appendTo('#frame');

             //questions holder
             $(document.createElement('ul')).attr('id', 'choice-block').appendTo('#frame');

             //add choices
             addChoices(quiz[currentquestion]['choices']);

             //add submit button
             $(document.createElement('div')).addClass('choice-box').attr('id', 'submitbutton').text('Verificar Resposta').css({
                 'font-weight': 700,
                 'color': '#222',
                 'padding': '20px 0',
                 'width':'200px'
             }).appendTo('#frame');

             setupButtons();

         }
     }

     init();
 });
